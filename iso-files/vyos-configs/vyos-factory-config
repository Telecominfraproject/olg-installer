set interfaces ethernet eth0 address 'dhcp'
set interfaces ethernet eth0 description 'WAN'
set interfaces ethernet eth0 offload gro
set interfaces ethernet eth0 offload gso
set interfaces ethernet eth0 offload sg
set interfaces ethernet eth0 offload tso
set interfaces ethernet eth1 description 'LAN'
set interfaces ethernet eth1 offload gro
set interfaces ethernet eth1 offload gso
set interfaces ethernet eth1 offload sg
set interfaces ethernet eth1 offload tso
set interfaces ethernet eth1 vif 100 address '192.168.100.1/24'
set interfaces ethernet eth1 vif 100 description 'LAN VLAN 100 (Switches)'
set interfaces ethernet eth1 vif 101 address '192.168.101.1/24'
set interfaces ethernet eth1 vif 101 description 'LAN VLAN 101 (APs)'
set interfaces ethernet eth1 vif 1000 address '172.20.0.1/20'
set interfaces ethernet eth1 vif 1000 description 'LAN VLAN 1000 (Guest devices)'
set interfaces loopback lo
set system name-server 1.1.1.1
set system name-server 9.9.9.9
set nat source rule 100 description 'NAT VLAN 1000 (Guest)'
set nat source rule 100 outbound-interface name 'eth0'
set nat source rule 100 source address '172.20.0.0/20'
set nat source rule 100 translation address 'masquerade'
set nat source rule 101 description 'NAT VLAN 100 (Switches)'
set nat source rule 101 outbound-interface name 'eth0'
set nat source rule 101 source address '192.168.100.0/24'
set nat source rule 101 translation address 'masquerade'
set nat source rule 102 description 'NAT VLAN 101 (APs)'
set nat source rule 102 outbound-interface name 'eth0'
set nat source rule 102 source address '192.168.101.0/24'
set nat source rule 102 translation address 'masquerade'
set service dhcp-server shared-network-name VLAN100 authoritative
set service dhcp-server shared-network-name VLAN100 subnet 192.168.100.0/24 option default-router '192.168.100.1'
set service dhcp-server shared-network-name VLAN100 subnet 192.168.100.0/24 option name-server '192.168.100.1'
set service dhcp-server shared-network-name VLAN100 subnet 192.168.100.0/24 range 0 start '192.168.100.50'
set service dhcp-server shared-network-name VLAN100 subnet 192.168.100.0/24 range 0 stop '192.168.100.200'
set service dhcp-server shared-network-name VLAN100 subnet 192.168.100.0/24 subnet-id '100'
set service dhcp-server shared-network-name VLAN101 authoritative
set service dhcp-server shared-network-name VLAN101 subnet 192.168.101.0/24 option default-router '192.168.101.1'
set service dhcp-server shared-network-name VLAN101 subnet 192.168.101.0/24 option domain-name 'lan101.local'
set service dhcp-server shared-network-name VLAN101 subnet 192.168.101.0/24 option name-server '192.168.101.1'
set service dhcp-server shared-network-name VLAN101 subnet 192.168.101.0/24 range 0 start '192.168.101.50'
set service dhcp-server shared-network-name VLAN101 subnet 192.168.101.0/24 range 0 stop '192.168.101.200'
set service dhcp-server shared-network-name VLAN101 subnet 192.168.101.0/24 subnet-id '101'
set service dhcp-server shared-network-name VLAN1000 authoritative
set service dhcp-server shared-network-name VLAN1000 subnet 172.20.0.0/20 option default-router '172.20.0.1'
set service dhcp-server shared-network-name VLAN1000 subnet 172.20.0.0/20 option domain-name 'lan200.local'
set service dhcp-server shared-network-name VLAN1000 subnet 172.20.0.0/20 option name-server '172.20.0.1'
set service dhcp-server shared-network-name VLAN1000 subnet 172.20.0.0/20 range 0 start '172.20.0.50'
set service dhcp-server shared-network-name VLAN1000 subnet 172.20.0.0/20 range 0 stop '172.20.15.200'
set service dhcp-server shared-network-name VLAN1000 subnet 172.20.0.0/20 subnet-id '1000'
set service dns forwarding allow-from '192.168.100.0/24'
set service dns forwarding allow-from '192.168.101.0/24'
set service dns forwarding allow-from '172.20.0.0/20'
set service dns forwarding listen-address '192.168.100.1'
set service dns forwarding listen-address '192.168.101.1'
set service dns forwarding listen-address '172.20.0.1'
set service dns forwarding name-server 1.1.1.1
set service dns forwarding name-server 9.9.9.9
set service ntp allow-client address '127.0.0.0/8'
set service ntp allow-client address '169.254.0.0/16'
set service ntp allow-client address '10.0.0.0/8'
set service ntp allow-client address '172.16.0.0/12'
set service ntp allow-client address '192.168.0.0/16'
set service ntp allow-client address '::1/128'
set service ntp allow-client address 'fe80::/10'
set service ntp allow-client address 'fc00::/7'
set service ntp server time1.vyos.net
set service ntp server time2.vyos.net
set service ntp server time3.vyos.net
set service ssh port 22
set service https api keys id MY-HTTPS-API-ID key 'MY-HTTPS-API-PLAINTEXT-KEY'
set service https api rest
set service https allow-client address '0.0.0.0/0'
set service https certificates ca-certificate 'my-ca'
set service https certificates certificate 'api-cert'
set service https port '443'
set pki ca my-ca certificate 'MIIDnTCCAoWgAwIBAgIUa4wwks6IjzlQ+3xg95Sq/6fsUocwDQYJKoZIhvcNAQELBQAwVzELMAkGA1UEBhMCR0IxEzARBgNVBAgMClNvbWUtU3RhdGUxEjAQBgNVBAcMCVNvbWUtQ2l0eTENMAsGA1UECgwEVnlPUzEQMA4GA1UEAwwHdnlvcy5pbzAeFw0yNTEwMTIxMzQxMjFaFw0zMDEwMTExMzQxMjFaMFcxCzAJBgNVBAYTAkdCMRMwEQYDVQQIDApTb21lLVN0YXRlMRIwEAYDVQQHDAlTb21lLUNpdHkxDTALBgNVBAoMBFZ5T1MxEDAOBgNVBAMMB3Z5b3MuaW8wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDGr7+r3EntXVvsS7WJjdPQFuQcve5BxpB8MvPrxbpDiSAled/QOD7d9FMNqvylDbFoDNf61tnrPxTI9W6wmADKKQvrFeTf1bTx9bzGyL4BQXxKmtjtuLlE3lUqf4HChbfizsKQVRZ5F4hJLhSKsR5Yly2oIBTKMKOlvuk9OC3Pl2qzIxfg6K27tuVpqWgW6Q7lyRh2/Hlr5rSA9AIsEyPzFzNBmvuMruH+nhD6axPSEDxdqWeImBYGy7IhK5kbP8jKMoVF7UMcvxMDy0qHusglNwy9g7UQH77pN/tW2hnsB+4g3BFwOb3fDV1d6thwt9y3bkd8ImK1bKlmrAPmQOazAgMBAAGjYTBfMA8GA1UdEwEB/wQFMAMBAf8wDgYDVR0PAQH/BAQDAgGGMB0GA1UdJQQWMBQGCCsGAQUFBwMCBggrBgEFBQcDATAdBgNVHQ4EFgQUI6ApTlBC0EedvcLlH+KkCZR0l68wDQYJKoZIhvcNAQELBQADggEBAFnr4/Cp6PEVp0FEvxY6DJmeEU9Ay1j6mTsz9XURveWZSOmko573ls9xCbLMB8pJ8xSYfbAsfgTiftTo6Y+DqwGhu3Mc896JbENt9SJh8gbRX5Y+hEa2O35qfj+KSOAjFymzdycmh/S2/adMwVjg6cSYxngiqoVMVN1EQgt2XVPJCnL7yK+7awJh1CdcMyByZ/n34q3geG9ZVsxJQbgOLm3Tug4PpJx7PjY85dAXJQmkeQodMi2HD3E/i/WQZ/mq6EfevEL7Bo/hz2hC6rokFn9ejeEs4m8/kXnD+pGMzwuXhvvn/tYhSl4xh15ms5ILGewy52AlqFadwaT3PDK9SLc='
set pki ca my-ca private key 'MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDGr7+r3EntXVvsS7WJjdPQFuQcve5BxpB8MvPrxbpDiSAled/QOD7d9FMNqvylDbFoDNf61tnrPxTI9W6wmADKKQvrFeTf1bTx9bzGyL4BQXxKmtjtuLlE3lUqf4HChbfizsKQVRZ5F4hJLhSKsR5Yly2oIBTKMKOlvuk9OC3Pl2qzIxfg6K27tuVpqWgW6Q7lyRh2/Hlr5rSA9AIsEyPzFzNBmvuMruH+nhD6axPSEDxdqWeImBYGy7IhK5kbP8jKMoVF7UMcvxMDy0qHusglNwy9g7UQH77pN/tW2hnsB+4g3BFwOb3fDV1d6thwt9y3bkd8ImK1bKlmrAPmQOazAgMBAAECggEAHzdyv8pTKoJIvzYKoOuR1CJx7FrNCd7sSY8/Mr6KFt1UbymYXXXQ2XzvOvkFS9t8Zv2Jm5rRJKcbGWiHtSLqENk6daZRePeclTLdBPB6UJEyOY3dt8VBBU3XXLTUNYoJNmSc6MzC71CgCZC+Cn0XPae3CoYhLhP5SkErZ9fL9CRZCTkjTT3XERiKR39piLC3aRcxNBfdMcXgYo5DvtwbpleaI9d0nec8eKNAmNf6S1ohJm0KdRz6O0p2jsVFLp3/ZWObd/ij/IFWr8RYnBsVaz76DX7jO1QC+aKyAC/QahOrJFO0otFjJbIoXO7Z99q9hseLmQqvXUENn4i16ifQ0QKBgQDsBEwubnHg0io05GsQwarj6+nr6HJ/UYrb2Bb77dhkByx0OSVP+fm9umRD4qbrv2NltkdPqS/671UVZlJ38kTYGTQsXoeK2CRGIxx8q3bqB8K/eDZDqb/XKOrV7SNJNjFOwqq1fjrNumhJ5qIEz2c8riZvUn0AJL4I0qvE/l6ZsQKBgQDXgk+7fRF+FKH9uGFCUWD9H3TZNlS9gKbZ4SnwoXlX/cUZ954OMRcuClh5m6L6mKVgLTs6gXrG48hlO2fWsm8GVioLueJ8mYRXS1cNdniYX4C5tQJO9vycfX4tzorfkF13+WTBBn5259ZSc5ysEL7VRxtGJEsuAAZKJKb77T17owKBgEfF/szX9XWjNAaluBF+c9OgOKDvLXKef5Xfnw26BOZWcCRgBILPyCz0c+1ZDd3/c+DIj+Mf1mF/SuaZGVc0q87zyzP7A0kr9cwGfXFES4NcHNNRYV8uThLGdLPdy69F9bS36mYLHyLVH0XqBzdjQ0fmxfVwpmbWxZu1RVtA58/hAoGAZOjoqrLKYQ4KOAKA0AvI7V0wWpEdJsq51eWfvMPvTKtQAnO2t5B2+SDxAqhErTCSpzEmvaNpOP3plLU3TwmoAQCRmYIFsjA0DqgBcBVcLITzgoFmPlFaQXBlh89hqYMwsP+/FL8UslqmOV9XKh6BLN6pv7M43KY4S7lT0zzoAB8CgYEAl9NxqWAwEeYeSndmFwAXHXTcB8fV3XMCuE7abhUgBUsXn/9GUx3e/8Mg9/x/l8uXjFaHu0gfUEZ9CxQPM3VZXcXjm/NypzmfHqf8p0Kx73o7AoBBxqn4D+pbzZhGiEi5AJbYd4ik9yfYe21rENtNECeAqpPNjwLHeIiWoYq5GfA='
set pki certificate api-cert certificate 'MIIDsTCCApmgAwIBAgIUWDJsrZgI3qZodiAfHrjXAxdmbwowDQYJKoZIhvcNAQELBQAwVzELMAkGA1UEBhMCR0IxEzARBgNVBAgMClNvbWUtU3RhdGUxEjAQBgNVBAcMCVNvbWUtQ2l0eTENMAsGA1UECgwEVnlPUzEQMA4GA1UEAwwHdnlvcy5pbzAeFw0yNTEwMTIxMzQyMzlaFw0yNjEwMTIxMzQyMzlaMFcxCzAJBgNVBAYTAkdCMRMwEQYDVQQIDApTb21lLVN0YXRlMRIwEAYDVQQHDAlTb21lLUNpdHkxDTALBgNVBAoMBFZ5T1MxEDAOBgNVBAMMB3Z5b3MuaW8wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCWptrVJnD+oLXtCRp593Ku8dsnYGyHMi0ohr1bdhjB5xWvt/zLCYII3Ub3C+t+QSqVfpc9tQR5niS7WlqCqxCfwCvmsJE74aidZKNbG+E807GcUKr2bNhiFInPeUSz20zikxOIXCrdrQ/uFlGtor4nJGuGL05wNfrDySnqzBdRDhm5tPkSN7oeMVZuxDOSjnBClNT4Np6v8ENtFlDSu+dUpeWutO2eK0VcycuzHgxMWc4/kVW8q1DpNsOrdhmd3K5CxLqR5C290XlDFL2Yiv43scZh9wvPuioULbRV6qS48Renxe0LBZhafMJCHr0aLFzkW96m3gl52hcvPXG2FlzTAgMBAAGjdTBzMAwGA1UdEwEB/wQCMAAwDgYDVR0PAQH/BAQDAgeAMBMGA1UdJQQMMAoGCCsGAQUFBwMBMB0GA1UdDgQWBBTAcqb/TwzxRJ9v7XryRwIvy85ozzAfBgNVHSMEGDAWgBQjoClOUELQR529wuUf4qQJlHSXrzANBgkqhkiG9w0BAQsFAAOCAQEAoP4NHO0GBdVbqk41XcZ8bk0fWVKmTEAejhRuGBvegkmUAAzJRMb2y0nBE6xoG11dXBiIWrFAvk22E30h/RtbWhGIfabPFjG53CbTBUPZh3hM6cFdqmTTYTlBpFtp2XEdbdh6BJRyxOPU1MQp1yzmUHWc2mMZsTa8TQZAGbBkh8kaJ1SFVE5I3m7uOx/ahoFhsa+SIKGmvosBHhNqzs18P8zYYOiNi14urJG3oR+0Qz/sbjXzbAzkUYnRIH5J7FXeJd0nNsSUB6ViRBGLMOUOTxHfePk7oYrnjwegJnam2gayZVRIViUeKHvIyutvSOd3qpM819G5f2R/K6mLBVtH9A=='
set pki certificate api-cert private key 'MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCWptrVJnD+oLXtCRp593Ku8dsnYGyHMi0ohr1bdhjB5xWvt/zLCYII3Ub3C+t+QSqVfpc9tQR5niS7WlqCqxCfwCvmsJE74aidZKNbG+E807GcUKr2bNhiFInPeUSz20zikxOIXCrdrQ/uFlGtor4nJGuGL05wNfrDySnqzBdRDhm5tPkSN7oeMVZuxDOSjnBClNT4Np6v8ENtFlDSu+dUpeWutO2eK0VcycuzHgxMWc4/kVW8q1DpNsOrdhmd3K5CxLqR5C290XlDFL2Yiv43scZh9wvPuioULbRV6qS48Renxe0LBZhafMJCHr0aLFzkW96m3gl52hcvPXG2FlzTAgMBAAECggEAJ+jM6RGVdob5mvFB79SjL4BHx98t8QTUXLuRF1UqStfecV4C3IDIz3NbNOAWAyzdTJwsEb9OD6/a2D0f5CTQMxnUJ3lYCC6IHiYGdoDkwtnr39ao67469oStW2arUiBC9nTzBDkya+ZIZZDJE4Ac8r6ds379vxE1vL8iWR63AJQc+e9i2C1qlB5OpMB7sE3Z3tdBMbmeU4+1IKO408VSx5JX9OKV6U/QCF0IyN9OOUoX7IvphmCyyPWoWhIJDEVzbx4y9xngWOCv9hVxEGmDIIXT7DZsCYEbblnWUCnpneK0EiSIsNA8s0Sqv08sXxd3kafVgK0HNlWkLBVyoniA+QKBgQDP0YhTcxns+ayCbag8ianMQ+mXkOEx3ilntt0ddae42NCLbjkl/25bSD9UMxOD6MxM7k6J/iznkH3I7j1R040rM3vDqusKa3SNyUFri0xj2Y5qJnGc+dNgTW8NUCi5Spe5F3IKebiGHUa/d7Iaiev47nobo0hj9sbNIWBQLhXsuwKBgQC5lFtgwpyfIwvHxbLckA/7VAUiRcxf2SvJbg/zhEUAnr+WjoHqs1k5UZe6XSy0GY5qjHVOA6kaok1ks+Hgn8kGUjJ0X2hTUFektZboLs+fRR+Z3fylD/dc4hX8eotIx2nGLlnnT3jMUwdP+aWyUJ0CsQXc/NaQcWuIQPY1n3WayQKBgD7BGReJ9FQ4+LzR/DF7qIiEIW+hUj9KxNoKwC57LtCEuETCXgN5ZIuv/1+fpM76Z2b7tz+4PzsVyMX6Gw4wgbp/62mknSEiXanLEjQ1djXYpkaroTczwX6dI2GzyPha7AH6cHd1ViE5ifmbXW7iIx2idcEOx3dYN6QN5hWQNRKtAoGATRNL3GUXjZSNqPv4LFj8+kJMG47nsgtNf0xh/Z661eYY5lvro2G3tfGoVbOrBGX021XYxn0It9Ie2KtJLfTPFfv/joutlaSxsevlcCs4+gpIdKxY6Ok3sHEJ9qGixahkyvWnS0WbgykcyV+DLQsEGwEQ0VaFetpQcfehCmZe/tkCgYEAjp7sCFQJ9UCc8DYpb2BFkuWjbDXK6Z/r+Wkmp+GYrmVVyVpTRVgO0ASXzTV+VbUqprMYTldZv8QE86cz/dtavMu/qzd3JP/gx1h4CZpsoGi2YcZmjImFPL1hkLzF7D2XJaNMsSPTtd+B6vKm6I/q3B4vhS5Ad94SMpoYR/tXkfE='
